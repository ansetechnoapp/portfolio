import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.Dj3USz-F.js";import{s as g}from"./supabase.DnZPE_vy.js";import"./_commonjsHelpers.gnU0ypJ3.js";function S(){const[o,h]=s.useState(""),[n,f]=s.useState(""),[l,d]=s.useState(!1),[i,m]=s.useState(null),u=async r=>{r.preventDefault(),d(!0),m(null);try{const{error:a}=await g.auth.signInWithPassword({email:o,password:n});if(a)throw a;window.location.href="/docs/dashboard"}catch(a){m(a.message)}finally{d(!1)}};return e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium",children:"Email"}),e.jsx("input",{id:"email",type:"email",value:o,onChange:r=>h(r.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:n,onChange:r=>f(r.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),i&&e.jsx("div",{className:"text-red-500 text-sm",children:i}),e.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:l?"Signing in...":"Sign In"})]})}function k(){const[o,h]=s.useState(""),[n,f]=s.useState(""),[l,d]=s.useState(""),[i,m]=s.useState(""),[u,r]=s.useState(!1),[a,p]=s.useState(null),w=async t=>{t.preventDefault(),r(!0),p(null);try{const{data:c,error:x}=await g.auth.signUp({email:o,password:n});if(x)throw x;if(c?.user){const{error:b}=await g.from("users").insert([{id:c.user.id,username:l,display_name:i}]);if(b)throw b}window.location.href="/docs/dashboard"}catch(c){p(c.message)}finally{r(!1)}};return e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium",children:"Email"}),e.jsx("input",{id:"email",type:"email",value:o,onChange:t=>h(t.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium",children:"Username"}),e.jsx("input",{id:"username",type:"text",value:l,onChange:t=>d(t.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium",children:"Display Name"}),e.jsx("input",{id:"displayName",type:"text",value:i,onChange:t=>m(t.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:n,onChange:t=>f(t.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),a&&e.jsx("div",{className:"text-red-500 text-sm",children:a}),e.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:u?"Signing up...":"Sign Up"})]})}export{S as SignIn,k as SignUp};
