import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.Dj3USz-F.js";import{s as g}from"./supabase.B2_sgsx_.js";import"./_commonjsHelpers.gnU0ypJ3.js";function y({workspaceId:o}){const[a,c]=r.useState([]),[u,i]=r.useState(!0),[n,l]=r.useState(""),[d,m]=r.useState(""),[x,h]=r.useState(!1);r.useEffect(()=>{p()},[o]);const p=async()=>{i(!0);try{const{data:t,error:s}=await g.from("projects").select("*").eq("workspace_id",o);if(s)throw s;c(t||[])}catch(t){console.error("Error fetching projects:",t)}finally{i(!1)}},f=async t=>{t.preventDefault(),h(!0);try{const{data:s,error:j}=await g.from("projects").insert([{workspace_id:o,name:n,description:d}]).select().single();if(j)throw j;c([...a,s]),l(""),m("")}catch(s){console.error("Error creating project:",s),alert(`Error creating project: ${s.message}`)}finally{h(!1)}};return e.jsxs("div",{className:"project-manager",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Projects"}),u?e.jsx("p",{children:"Loading projects..."}):e.jsxs(e.Fragment,{children:[a.length===0?e.jsx("p",{children:"No projects in this workspace yet. Create one to get started!"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(t=>e.jsxs("div",{className:"project-card border rounded-lg p-4 shadow-sm",children:[e.jsx("h3",{className:"text-xl font-semibold",children:t.name}),e.jsx("p",{className:"text-gray-600",children:t.description}),e.jsxs("div",{className:"mt-4 flex space-x-4",children:[e.jsx("a",{href:`/docs/projects/${t.id}`,className:"text-indigo-600 hover:text-indigo-800",children:"View Project"}),e.jsx("a",{href:`/docs/projects/${t.id}/docs`,className:"text-green-600 hover:text-green-800",children:"Documentation"}),e.jsx("a",{href:`/docs/projects/${t.id}/api`,className:"text-blue-600 hover:text-blue-800",children:"API Docs"})]})]},t.id))}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Create New Project"}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium",children:"Project Name"}),e.jsx("input",{id:"name",type:"text",value:n,onChange:t=>l(t.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium",children:"Description"}),e.jsx("textarea",{id:"description",value:d,onChange:t=>m(t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",rows:3})]}),e.jsx("button",{type:"submit",disabled:x,className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:x?"Creating...":"Create Project"})]})]})]})]})}export{y as default};
